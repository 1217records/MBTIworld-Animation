<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>원피스 MBTI 테스트</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&family=Sora:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        --ink: #151619;
        --muted: #6b6f76;
        --surface: #ffffff;
        --canvas: #f2f6fb;
        --border: #dbe4f1;
        --accent: #1f4d8f;
        --shadow: 0 18px 35px rgba(17, 24, 39, 0.12);
      }

      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        min-height: 100vh;
        font-family: "Noto Sans KR", sans-serif;
        color: var(--ink);
        background: var(--canvas);
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 48px 24px;
      }

      .wrap {
        width: min(900px, 100%);
        background: var(--surface);
        border-radius: 24px;
        padding: 40px clamp(20px, 4vw, 48px);
        box-shadow: var(--shadow);
        border: 1px solid rgba(17, 24, 39, 0.06);
      }

      header {
        display: grid;
        gap: 8px;
        margin-bottom: 28px;
      }

      h1 {
        margin: 0;
        font-family: "Sora", sans-serif;
        font-size: clamp(24px, 3vw, 34px);
      }

      .subtitle {
        margin: 0;
        color: var(--muted);
        font-size: 14px;
      }

      form {
        display: grid;
        gap: 18px;
      }

      .question {
        border: 1px solid var(--border);
        border-radius: 16px;
        padding: 16px;
        display: grid;
        gap: 12px;
      }

      .question h2 {
        margin: 0;
        font-size: 16px;
        font-weight: 600;
      }

      .options {
        display: grid;
        gap: 8px;
      }

      label {
        display: flex;
        gap: 8px;
        align-items: center;
        padding: 10px 12px;
        border-radius: 12px;
        border: 1px solid transparent;
        background: #f8fafc;
        cursor: pointer;
        transition: border-color 0.2s ease, background 0.2s ease;
      }

      input[type="radio"] {
        accent-color: var(--accent);
      }

      input[type="radio"]:checked + span {
        font-weight: 600;
      }

      label:has(input[type="radio"]:checked) {
        border-color: rgba(31, 77, 143, 0.4);
        background: #edf3fb;
      }

      button {
        border: 0;
        border-radius: 999px;
        padding: 12px 20px;
        background: var(--accent);
        color: #fff;
        font-weight: 600;
        cursor: pointer;
        justify-self: start;
      }

      .meta {
        margin-top: 12px;
        font-size: 12px;
        color: var(--muted);
      }

      .back {
        display: inline-block;
        margin-top: 18px;
        font-size: 13px;
        color: var(--muted);
        text-decoration: none;
      }

      .back:hover {
        text-decoration: underline;
      }
    </style>
  </head>
  <body>
    <main class="wrap">
      <header>
        <h1>원피스 MBTI 테스트</h1>
        <p class="subtitle">8문항으로 MBTI를 계산해 원피스 인물로 매칭합니다.</p>
      </header>

      <form id="test-form">
        <div class="question" data-axis="EI">
          <h2>1. 항해를 시작할 때 나는?</h2>
          <div class="options">
            <label><input type="radio" name="q1" value="E" /><span>먼저 나서서 선원들과 소통한다</span></label>
            <label><input type="radio" name="q1" value="I" /><span>조용히 역할을 정리하고 준비한다</span></label>
          </div>
        </div>
        <div class="question" data-axis="EI">
          <h2>2. 새로운 섬에 도착하면?</h2>
          <div class="options">
            <label><input type="radio" name="q2" value="E" /><span>바로 돌아다니며 분위기를 즐긴다</span></label>
            <label><input type="radio" name="q2" value="I" /><span>먼저 정보를 모아 판단한다</span></label>
          </div>
        </div>
        <div class="question" data-axis="SN">
          <h2>3. 전투 계획을 세울 때?</h2>
          <div class="options">
            <label><input type="radio" name="q3" value="S" /><span>현재 전력과 상황을 분석한다</span></label>
            <label><input type="radio" name="q3" value="N" /><span>새로운 전술을 상상한다</span></label>
          </div>
        </div>
        <div class="question" data-axis="SN">
          <h2>4. 모험 중 위기가 오면?</h2>
          <div class="options">
            <label><input type="radio" name="q4" value="S" /><span>현실적으로 할 수 있는 일을 찾는다</span></label>
            <label><input type="radio" name="q4" value="N" /><span>가능성 있는 길을 떠올린다</span></label>
          </div>
        </div>
        <div class="question" data-axis="TF">
          <h2>5. 결정을 내려야 할 때?</h2>
          <div class="options">
            <label><input type="radio" name="q5" value="T" /><span>효율과 합리성을 우선한다</span></label>
            <label><input type="radio" name="q5" value="F" /><span>동료의 마음을 먼저 생각한다</span></label>
          </div>
        </div>
        <div class="question" data-axis="TF">
          <h2>6. 동료가 실수했을 때?</h2>
          <div class="options">
            <label><input type="radio" name="q6" value="T" /><span>현실적인 해결책을 제시한다</span></label>
            <label><input type="radio" name="q6" value="F" /><span>격려하며 감정을 살핀다</span></label>
          </div>
        </div>
        <div class="question" data-axis="JP">
          <h2>7. 항해 일정은?</h2>
          <div class="options">
            <label><input type="radio" name="q7" value="J" /><span>미리 계획을 세워 움직인다</span></label>
            <label><input type="radio" name="q7" value="P" /><span>그때그때 유연하게 변경한다</span></label>
          </div>
        </div>
        <div class="question" data-axis="JP">
          <h2>8. 목표를 향해 나아갈 때?</h2>
          <div class="options">
            <label><input type="radio" name="q8" value="J" /><span>계획대로 차근차근 진행한다</span></label>
            <label><input type="radio" name="q8" value="P" /><span>즉흥적으로 기회를 잡는다</span></label>
          </div>
        </div>
        <button type="submit">결과 보기</button>
      </form>

      <p class="meta">모든 문항을 선택해야 결과를 볼 수 있어요.</p>
      <a class="back" href="index.html">← 테스트 목록으로</a>
    </main>

    <script>
      const form = document.getElementById("test-form");
      form.addEventListener("submit", (event) => {
        event.preventDefault();
        const fields = ["q1", "q2", "q3", "q4", "q5", "q6", "q7", "q8"];
        const answers = {};

        for (const name of fields) {
          const selected = form.querySelector(`input[name="${name}"]:checked`);
          if (!selected) {
            alert("모든 문항을 선택해 주세요.");
            return;
          }
          answers[name] = selected.value;
        }

        const counts = { E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, J: 0, P: 0 };
        Object.values(answers).forEach((value) => {
          counts[value] += 1;
        });

        const type = [
          counts.E >= counts.I ? "E" : "I",
          counts.S >= counts.N ? "S" : "N",
          counts.T >= counts.F ? "T" : "F",
          counts.J >= counts.P ? "J" : "P",
        ].join("");

        window.location.href = `result.html?theme=onepiece&type=${type}`;
      });
    </script>
  </body>
</html>
