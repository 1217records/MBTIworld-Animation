<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>나루토 MBTI 테스트</title>
    <meta
      name="description"
      content="나루토 세계관의 주요 장면을 기반으로 16문항 MBTI 성향을 알아보는 스토리형 테스트입니다."
    />
    <meta name="robots" content="index,follow" />
    <meta property="og:title" content="나루토 MBTI 테스트" />
    <meta
      property="og:description"
      content="나루토 에피소드 상황을 풀어 MBTI 성향을 확인해 보세요."
    />
    <meta name="google-adsense-account" content="ca-pub-4245569327602514" />
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4245569327602514" crossorigin="anonymous"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+KR:wght@400;500;600;700&family=Noto+Serif+KR:wght@500;700&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        --ink: #0b1220;
        --muted: #5b6575;
        --surface: #ffffff;
        --canvas: #f5f2ed;
        --border: #e1d8cc;
        --accent: #16324f;
        --shadow: 0 28px 60px rgba(11, 18, 32, 0.12);
      }

      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        min-height: 100vh;
        font-family: "IBM Plex Sans KR", sans-serif;
        color: var(--ink);
        background:
          radial-gradient(540px 420px at 10% 10%, rgba(196, 154, 58, 0.18), transparent 60%),
          radial-gradient(620px 520px at 90% 0%, rgba(47, 111, 107, 0.18), transparent 65%),
          linear-gradient(180deg, #fdfcf9, #f1ece4);
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 48px 24px;
      }

      body::before {
        content: "";
        position: fixed;
        inset: 0;
        background-image:
          repeating-linear-gradient(90deg, rgba(22, 50, 79, 0.04) 0 1px, transparent 1px 28px),
          repeating-linear-gradient(0deg, rgba(22, 50, 79, 0.04) 0 1px, transparent 1px 28px);
        opacity: 0.4;
        pointer-events: none;
      }

      .wrap {
        width: min(900px, 100%);
        background: var(--surface);
        border-radius: 24px;
        padding: 40px clamp(20px, 4vw, 48px);
        box-shadow: var(--shadow);
        border: 1px solid rgba(22, 50, 79, 0.08);
        position: relative;
      }

      header {
        display: grid;
        gap: 8px;
        margin-bottom: 28px;
      }

      .site-nav {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 16px;
        flex-wrap: wrap;
        margin-bottom: 20px;
      }

      .logo {
        font-family: "Noto Serif KR", serif;
        font-size: 18px;
        text-decoration: none;
        color: var(--ink);
        font-weight: 700;
        letter-spacing: -0.01em;
      }

      h1 {
        margin: 0;
        font-family: "Noto Serif KR", serif;
        font-size: clamp(24px, 3vw, 34px);
      }

      .subtitle {
        margin: 0;
        color: var(--muted);
        font-size: 14px;
      }

      form {
        display: grid;
        gap: 18px;
      }

      .progress {
        width: 100%;
        height: 8px;
        border-radius: 999px;
        background: rgba(22, 50, 79, 0.08);
        overflow: hidden;
      }

      .progress-bar {
        height: 100%;
        width: 0;
        background: linear-gradient(90deg, #16324f, #2f6f6b);
        transition: width 0.3s ease;
      }

      .question {
        border: 1px solid rgba(22, 50, 79, 0.1);
        border-radius: 16px;
        padding: 18px;
        display: grid;
        gap: 14px;
        background: #ffffff;
        box-shadow: 0 18px 30px rgba(11, 18, 32, 0.06);
      }

      .question.is-animating {
        animation: slideIn 0.35s ease;
      }

      .question-meta {
        font-size: 12px;
        color: var(--muted);
      }

      .question h2 {
        margin: 0;
        font-size: 18px;
        font-weight: 600;
      }

      .options {
        display: grid;
        gap: 10px;
      }

      label {
        display: flex;
        gap: 8px;
        align-items: center;
        padding: 12px 14px;
        border-radius: 12px;
        border: 1px solid transparent;
        background: #fbfaf7;
        cursor: pointer;
        transition: border-color 0.2s ease, background 0.2s ease;
      }

      input[type="radio"] {
        accent-color: var(--accent);
      }

      input[type="radio"]:checked + span {
        font-weight: 600;
      }

      label:has(input[type="radio"]:checked) {
        border-color: rgba(22, 50, 79, 0.4);
        background: rgba(22, 50, 79, 0.08);
      }

      .controls {
        display: flex;
        gap: 12px;
        flex-wrap: wrap;
      }

      button {
        border: 0;
        border-radius: 999px;
        padding: 12px 20px;
        background: linear-gradient(135deg, var(--accent), #1f4d63);
        color: #fff;
        font-weight: 600;
        cursor: pointer;
      }

      button.secondary {
        background: #fff;
        color: var(--accent);
        border: 1px solid rgba(22, 50, 79, 0.35);
      }

      button:disabled {
        opacity: 0.5;
        cursor: not-allowed;
      }

      .meta {
        margin-top: 12px;
        font-size: 12px;
        color: var(--muted);
      }

      .back {
        display: inline-block;
        margin-top: 18px;
        font-size: 13px;
        color: var(--muted);
        text-decoration: none;
      }

      .back:hover {
        text-decoration: underline;
      }

      .footer {
        margin-top: 12px;
        display: flex;
        gap: 12px;
        flex-wrap: wrap;
        font-size: 12px;
        color: var(--muted);
      }

      .footer a {
        color: var(--accent);
        text-decoration: none;
        border: 1px solid rgba(22, 50, 79, 0.18);
        padding: 10px 16px;
        border-radius: 999px;
        background: #ffffff;
        font-weight: 600;
        font-size: 13px;
      }

      .footer a:hover {
        background: #f6f2eb;
      }

      @keyframes slideIn {
        from {
          opacity: 0;
          transform: translateY(8px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @media (max-width: 640px) {
        body {
          padding: 28px 16px;
        }

        .wrap {
          padding: 28px 18px;
          border-radius: 20px;
        }

        .question {
          padding: 16px;
        }

        .question h2 {
          font-size: 16px;
        }

        label {
          align-items: flex-start;
        }

        .controls {
          flex-direction: column;
        }

        button {
          width: 100%;
        }

        .progress {
          height: 6px;
        }

        .footer {
          flex-direction: column;
          gap: 6px;
        }
      }
    </style>
  </head>
  <body>
    <main class="wrap">
      <nav class="site-nav" aria-label="주요 메뉴">
        <a class="logo" href="index.html">MBTI-world</a>
      </nav>
      <header>
        <h1>나루토 MBTI 테스트</h1>
        <p class="subtitle">16문항으로 나루토 에피소드 상황을 풀어 MBTI를 계산합니다.</p>
      </header>

      <form id="test-form">
        <div class="progress" aria-hidden="true">
          <div class="progress-bar" id="progress-bar"></div>
        </div>
        <div class="question">
          <div class="question-meta" id="question-meta">1/16</div>
          <h2 id="question-title">질문을 불러오는 중…</h2>
          <div class="options" id="options"></div>
        </div>
        <div class="controls">
          <button type="button" class="secondary" id="prev-btn">이전</button>
        </div>
      </form>

      <p class="meta">각 문항에서 선택 후 다음으로 이동해 주세요.</p>
      <div class="footer">
        <a href="index.html">홈</a>
        <a href="test-select.html">테스트 선택</a>
        <a href="about.html">소개</a>
        <a href="contact.html">문의하기</a>
        <a href="privacy.html">개인정보 처리방침</a>
      </div>
    </main>

    <script>
      const questions = [
        {
          axis: "SN",
          prompt: "1. 적의 인술을 파악해야 한다면?",
          options: [
            { value: "S", label: "손인·차크라 흔적을 정리해 대응한다" },
            { value: "N", label: "숨은 술식과 다음 변수를 추론한다" },
          ],
        },
        {
          axis: "EI",
          prompt: "2. 중닌시험 준비 기간, 나는?",
          options: [
            { value: "E", label: "팀과 모의전을 돌리며 전투 감각을 끌어올린다" },
            { value: "I", label: "개인 수련과 두루마리를 다듬는다" },
          ],
        },
        {
          axis: "TF",
          prompt: "3. 사스케를 추적해야 하는 순간이라면?",
          options: [
            { value: "T", label: "리스크와 성공 확률을 계산해 움직인다" },
            { value: "F", label: "동료의 마음과 약속을 먼저 떠올린다" },
          ],
        },
        {
          axis: "JP",
          prompt: "4. 작전 계획을 짤 때 나는?",
          options: [
            { value: "J", label: "시카마루식 단계 플랜을 세운다" },
            { value: "P", label: "현장 변수에 맞춰 유연하게 바꾼다" },
          ],
        },
        {
          axis: "SN",
          prompt: "5. 수색 임무에서 단서가 부족하다면?",
          options: [
            { value: "S", label: "발자국·흔적을 따라 이동한다" },
            { value: "N", label: "정보를 엮어 예상 동선을 그린다" },
          ],
        },
        {
          axis: "EI",
          prompt: "6. 미션 브리핑 전 대기 시간엔?",
          options: [
            { value: "E", label: "팀 분위기를 끌어올리며 긴장을 푼다" },
            { value: "I", label: "정보를 정리하며 조용히 집중한다" },
          ],
        },
        {
          axis: "TF",
          prompt: "7. 고립된 적과 마주쳤을 때?",
          options: [
            { value: "T", label: "임무 우선으로 빠르게 결론을 낸다" },
            { value: "F", label: "대화로 갱생의 가능성을 본다" },
          ],
        },
        {
          axis: "JP",
          prompt: "8. 훈련 루틴을 운영한다면?",
          options: [
            { value: "J", label: "시간표대로 꾸준히 반복한다" },
            { value: "P", label: "컨디션과 임무에 맞춰 조정한다" },
          ],
        },
        {
          axis: "EI",
          prompt: "9. 합동 작전 직전 대기 중이라면?",
          options: [
            { value: "E", label: "동료를 격려하며 팀 분위기를 올린다" },
            { value: "I", label: "호흡을 정리하며 집중력을 끌어올린다" },
          ],
        },
        {
          axis: "SN",
          prompt: "10. 전장 지형을 활용해야 할 때?",
          options: [
            { value: "S", label: "눈앞의 나무·바위를 즉시 활용한다" },
            { value: "N", label: "전체 전황을 상상해 한 수를 둔다" },
          ],
        },
        {
          axis: "TF",
          prompt: "11. 전투 후 처치 vs 구조를 선택해야 한다면?",
          options: [
            { value: "T", label: "상황을 빠르게 정리하는 결정을 한다" },
            { value: "F", label: "상대의 사정과 감정을 고려한다" },
          ],
        },
        {
          axis: "JP",
          prompt: "12. 정보 공유 방식은?",
          options: [
            { value: "J", label: "기록해 체계적으로 보고한다" },
            { value: "P", label: "필요할 때 즉시 공유한다" },
          ],
        },
        {
          axis: "EI",
          prompt: "13. 동료가 고민을 털어놓을 때?",
          options: [
            { value: "E", label: "바로 다가가 이야기를 풀어준다" },
            { value: "I", label: "옆에서 듣고 필요한 말만 전한다" },
          ],
        },
        {
          axis: "SN",
          prompt: "14. 봉인술 비급서를 해석한다면?",
          options: [
            { value: "S", label: "정석 방법을 정확히 따라본다" },
            { value: "N", label: "숨은 의미와 확장 가능성을 본다" },
          ],
        },
        {
          axis: "TF",
          prompt: "15. 팀 리더를 뽑는다면?",
          options: [
            { value: "T", label: "실력과 판단력을 기준으로 선택한다" },
            { value: "F", label: "신뢰와 유대를 기준으로 선택한다" },
          ],
        },
        {
          axis: "JP",
          prompt: "16. 장기 목표를 바라볼 때?",
          options: [
            { value: "J", label: "로드맵을 세워 단계적으로 달성한다" },
            { value: "P", label: "기회가 올 때마다 방향을 조정한다" },
          ],
        },
      ];

      const form = document.getElementById("test-form");
      const optionsEl = document.getElementById("options");
      const questionTitle = document.getElementById("question-title");
      const questionMeta = document.getElementById("question-meta");
      const progressBar = document.getElementById("progress-bar");
      const questionCard = document.querySelector(".question");
      const prevBtn = document.getElementById("prev-btn");

      const answers = Array(questions.length).fill(null);
      let currentIndex = 0;

      const renderQuestion = () => {
        const current = questions[currentIndex];
        questionTitle.textContent = current.prompt;
        questionMeta.textContent = `${currentIndex + 1}/${questions.length}`;
        progressBar.style.width = `${((currentIndex + 1) / questions.length) * 100}%`;

        optionsEl.innerHTML = "";
        current.options.forEach((option) => {
          const label = document.createElement("label");
          const input = document.createElement("input");
          input.type = "radio";
          input.name = "current";
          input.value = option.value;
          input.checked = answers[currentIndex] === option.value;
          input.addEventListener("change", () => {
            answers[currentIndex] = option.value;
            goNext();
          });

          const span = document.createElement("span");
          span.textContent = option.label;

          label.appendChild(input);
          label.appendChild(span);
          optionsEl.appendChild(label);
        });

        prevBtn.disabled = currentIndex === 0;

        questionCard.classList.remove("is-animating");
        void questionCard.offsetWidth;
        questionCard.classList.add("is-animating");
      };

      prevBtn.addEventListener("click", () => {
        if (currentIndex > 0) {
          currentIndex -= 1;
          renderQuestion();
        }
      });

      const goNext = () => {
        if (currentIndex < questions.length - 1) {
          currentIndex += 1;
          renderQuestion();
          return;
        }

        const counts = { E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, J: 0, P: 0 };
        answers.forEach((value) => {
          counts[value] += 1;
        });

        const type = [
          counts.E >= counts.I ? "E" : "I",
          counts.S >= counts.N ? "S" : "N",
          counts.T >= counts.F ? "T" : "F",
          counts.J >= counts.P ? "J" : "P",
        ].join("");

        window.location.href = `result.html?theme=naruto&type=${type}`;
      };

      form.addEventListener("submit", (event) => {
        event.preventDefault();
      });

      renderQuestion();
    </script>
  </body>
</html>
